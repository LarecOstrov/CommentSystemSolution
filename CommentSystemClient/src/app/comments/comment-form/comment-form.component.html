<form [formGroup]="commentForm" (ngSubmit)="requestCaptcha()" class="comment-form">
  <div class="form-group">
    <input id="userName" formControlName="userName" placeholder="User Name" required />
    <input id="email" formControlName="email" type="email" placeholder="Email" required />
    <input id="homePage" formControlName="homePage" type="url" placeholder="Home Page (optional)" />
  </div>

  <textarea id="text" formControlName="text" placeholder="Write your comment..." required></textarea>

  <div class="attachments">
    <label>Attachments:</label>
    <input id="fileAttachments" type="file" (change)="onFileSelected($event)" multiple />
  </div>

  <button type="button" (click)="requestCaptcha()" [disabled]="commentForm.invalid">Next</button>

  <!-- Captcha -->
  <div *ngIf="captchaImage" class="captcha-container">
    <img [src]="captchaImage" alt="Captcha" />
    <input id="captcha" formControlName="captcha" placeholder="Enter CAPTCHA" required />
    <button type="submit" [disabled]="commentForm.invalid">Submit</button>
  </div>

  <button type="button" (click)="cancelForm()">Cancel</button>
</form>
